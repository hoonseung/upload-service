<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.sewon.uploadservice.repository.erp.ERPItemMapper">
  <select  id="findGroupListByPartType" resultType="CarGroupProps">
    SELECT A.차종 AS carProps, A.품명 AS groupProps
    FROM TB_PDM_ORDER_ForWeeks A
    <where>
      등록일 = (
      SELECT MAX(등록일)
      FROM TB_PDM_ORDER_ForWeeks)
      AND
      <if test="carProps != null and carProps.size() > 0">
        차종
        IN
        <foreach collection="carProps" item="carProp" open="(" separator="," close=")">
          #{carProp}
        </foreach>
      </if>
    </where>
    GROUP BY A.차종, A.품명;
  </select >
</mapper>
